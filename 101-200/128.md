# 128. Longest Consecutive Sequence

[LeetCode Problem Link](https://leetcode.com/problems/longest-consecutive-sequence/)

## Performance

- **Runtime**: 29 ms (Beats 81.12%)
- **Memory**: 95.79 MB (Beats 47.31%)

## Complexity Analysis

- **Time Complexity**: $O(N)$, where $N$ is the length of the input array. We insert all numbers into a HashSet ($O(N)$). Then we iterate through the set. although there is a nested while loop, the logical flow ensures that each number is visited at most twice (once to check if it's the start of a sequence, and once inside the while loop if it is part of a sequence). Thus, the total time is linear.
- **Space Complexity**: $O(N)$, to store the elements in the HashSet.

## Approach

The problem asks for the length of the longest consecutive elements sequence. A naive sorting approach would take $O(N \log N)$, but we need $O(N)$.

1.  **HashSet**: We first add all elements of `nums` to a `HashSet`. This allows for $O(1)$ lookups and removes duplicates.
2.  **Iterate and Check**: We iterate through each number `x` in the set.
3.  **Find Sequence Start**: For each `x`, we check if `x - 1` exists in the set.
    -   If `x - 1` **exists**, then `x` cannot be the starting element of a consecutive sequence (because `x-1` would come before it). We skip it.
    -   If `x - 1` **does not exist**, then `x` is the start of a new sequence.
4.  **Count Length**: We verify how long the sequence is by checking for `x + 1`, `x + 2`, etc., in the set, increments the length `len` for each consecutive number found.
5.  **Update Max**: We keep track of the maximum length found (`maxLen`).
6.  **Result**: Return `maxLen`.


### Solution.java

```java
/**
 * 128. Longest Consecutive Sequence
 * 
 * https://leetcode.com/problems/longest-consecutive-sequence/
 */
class Solution {
    public int longestConsecutive(int[] nums) {
        // Create the result variable
        int maxLen = 0;

        // Create the Set
        Set<Integer> set = new HashSet<>();
        for (int num : nums) {
            set.add(num);
        }

        // Find the beginning of sequences and its size
        for (int x : set) {
            if (set.contains(x - 1)) continue;
            int len = 1; // Have at least a sequence with length 1
            while (set.contains(x + len)) len++;
            if (len > maxLen) maxLen = len;
        }

        return maxLen;
    }
}
```